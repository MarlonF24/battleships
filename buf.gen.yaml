version: v2
clean: true

managed:
  enabled: true

plugins:
  - protoc_builtin: python_betterproto
    out: backend/games/model/websocket_models
    opt:
      - pydantic_dataclasses
      - async_lib=asyncio
      - typing.310

  - local: frontend\node_modules\.bin\protoc-gen-es.cmd
    out: frontend/src/base/socketModels
    opt:
      - target=ts
  
  # - local: frontend\node_modules\.bin\protoc-gen-ts_proto.cmd
  #   out: frontend/src/base/socketModels
  #   opt:
  #     - env=browser
  #     - oneof=unions
  #     - exportCommonSymbols=false
  #     - outputJsonMethods=true
  #     - lowerCaseServiceMethods=true
  #     - esModuleInterop=true
  #     - stringEnums=true
  #     - unrecognizedEnum=throw
  #     - outputTypeRegistry=true